{"ast":null,"code":"var _jsxFileName = \"E:\\\\dasty_work_file\\\\web\\\\dastyco\\\\client\\\\src\\\\components\\\\home\\\\post_card\\\\CardBody.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport LikeButton from \"../../LikeButton\";\nimport LikeleftButton from \"../../LikeleftButton\";\nimport LikerightButton from \"../../LikerightButton\";\nimport { imageShow, videoShow } from \"../../../utils/mediaShow\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { likePost, likeleftPost, likerightPost, savePost, unLikePost, unLikeleftPost, unLikerightPost, unSavePost } from \"../../../redux/actions/postAction\";\nimport ShareModal from \"../../ShareModal\";\nimport Carousel from \"../../Carousel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CardBody = ({\n  post\n}) => {\n  _s();\n\n  const [isLike, setIsLike] = useState(false);\n  const [isLikeleft, setIsLikeleft] = useState(false);\n  const [isLikeright, setIsLikeright] = useState(false);\n  const [saved, setSaved] = useState(false);\n  const [loadLike, setLoadLike] = useState(false);\n  const [loadLikeleft, setLoadLikeleft] = useState(false);\n  const [loadLikeright, setLoadLikeright] = useState(false);\n  const [saveLoad, setSaveLoad] = useState(false);\n  const [isShare, setIsShare] = useState(false);\n  const dispatch = useDispatch();\n  const {\n    auth,\n    theme,\n    socket\n  } = useSelector(state => state);\n  useEffect(() => {\n    if (post.likes.find(like => like._id === auth.user._id)) {\n      setIsLike(true);\n    } else {\n      setIsLike(false);\n    }\n\n    if (post.likelefts.find(likeleft => likeleft._id === auth.user._id)) {\n      setIsLikeleft(true);\n    } else {\n      setIsLikeleft(false);\n    }\n\n    if (post.likerights.find(likeright => likeright._id === auth.user._id)) {\n      setIsLikeright(true);\n    } else {\n      setIsLikeright(false);\n    }\n  }, [post.likes, post.likelefts, post.likerights, auth.user._id]);\n\n  const handleLikeleft = async () => {\n    if (loadLikeleft) return;\n    setLoadLikeleft(true);\n    await dispatch(likeleftPost({\n      post,\n      auth,\n      socket\n    }));\n    setLoadLikeleft(false);\n  };\n\n  const handleUnLikeleft = async () => {\n    if (loadLikeleft) return;\n    setLoadLikeleft(true);\n    await dispatch(unLikeleftPost({\n      post,\n      auth,\n      socket\n    }));\n    setLoadLikeleft(false);\n  }; // const handle = async () => {\n  //   if (loadLikeright) return;\n  //   setLoadLikeright(true);\n  //   await dispatch(unLikerightPost({ post, auth, socket }));\n  //   setLoadLikeright(false);\n  //   if (loadLikeleft) return;\n  //   setLoadLikeleft(true);\n  //   await dispatch(likeleftPost({ post, auth, socket }));\n  //   setLoadLikeleft(false);\n  // };\n\n\n  const handleLikeright = async () => {\n    if (loadLikeright) return;\n    setLoadLikeright(true);\n    await dispatch(likerightPost({\n      post,\n      auth,\n      socket\n    }));\n    setLoadLikeright(false);\n  };\n\n  const handleUnLikeright = async () => {\n    if (loadLikeright) return;\n    setLoadLikeright(true);\n    await dispatch(unLikerightPost({\n      post,\n      auth,\n      socket\n    }));\n    setLoadLikeright(false);\n  };\n\n  const handleSavePost = async () => {\n    if (saveLoad) return;\n    setSaveLoad(true);\n    await dispatch(savePost({\n      post,\n      auth\n    }));\n    setSaveLoad(false);\n  };\n\n  const handleUnSavePost = async () => {\n    if (saveLoad) return;\n    setSaveLoad(true);\n    await dispatch(unSavePost({\n      post,\n      auth\n    }));\n    setSaveLoad(false);\n  };\n\n  useEffect(() => {\n    if (auth.user.saved.find(id => id === post._id)) {\n      setSaved(true);\n    } else {\n      setSaved(false);\n    }\n  }, [post._id, auth.user.saved]);\n  const [readMore, setReadMore] = useState();\n  const [readMores, setReadMores] = useState();\n  console.log(post);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card_body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card_body-content\",\n      style: {\n        filter: theme ? \"invert(1)\" : \"invert(0)\",\n        color: theme ? \"white\" : \"#111\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total\",\n        children: [\"Total votes of \", post.likerights.length + post.likelefts.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"default\",\n          to: `/community/${post.community}`,\n          children: [\"Community : \", post.community]\n        }, post.community, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), isLikeleft || isLikeright ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [post.likelefts.length / (post.likelefts.length + post.likerights.length) * 100, \" \", \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [post.likerights.length / (post.likelefts.length + post.likerights.length) * 100, \" \", \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [post.likelefts.length, \" votes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [post.likerights.length, \" votes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), post.images.length == 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: isLikeleft ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-textedL\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUnLikeleft,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: post.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-textedL\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLikeleft,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: post.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 19\n            }, this)\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: isLikeright ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-textedR\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUnLikeright,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                children: post.contentsub\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-textedR\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLikeright,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: post.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)\n    }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttons-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file_imgs\",\n        children: [post.images.index\n        /*deleted part*/\n        == 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: isLikeleft ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contentbox\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleUnLikeleft,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: post.images.img.url,\n                  className: \"\",\n                  alt: post.images.img.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contentsub\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: post.content.length < 20 ? post.content : readMores ? post.content + \" \" : post.content.slice(0, 20) + \"  ...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }, this), post.contentsub.length > 20 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"readMore\",\n              onClick: () => setReadMores(!readMores),\n              children: readMores ? \"Hide Contents\" : \"Read More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contentbox\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLikeleft,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: post.images2.img2.url,\n                  className: \"\",\n                  alt: post.images2.img2.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contentsub\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: post.content.length < 20 ? post.content : readMores ? post.content + \" \" : post.content.slice(0, 20) + \"  ...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 21\n            }, this), post.contentsub.length > 20 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"readMore\",\n              onClick: () => setReadMores(!readMores),\n              children: readMores ? \"Hide Contents\" : \"Read More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true)\n        }, void 0, false), post.images2.index == 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: isLikeright ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contentbox\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleUnLikeright,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: post.images.img.url,\n                  className: \"\",\n                  alt: post.images.img.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contentsub\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: post.contentsub.length < 20 ? post.contentsub : readMore ? post.contentsub + \" \" : post.contentsub.slice(0, 20) + \"  ...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 21\n            }, this), post.content.length > 20 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"readMore\",\n              onClick: () => setReadMore(!readMore),\n              children: readMore ? \"Hide Content\" : \"Read More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contentbox\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLikeright,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: post.images2.img2.url,\n                  className: \"\",\n                  alt: post.images2.img2.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"contentsub\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: post.contentsub.length < 20 ? post.contentsub : readMore ? post.contentsub + \" \" : post.contentsub.slice(0, 20) + \"  ...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 21\n            }, this), post.content.length > 20 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"readMore\",\n              onClick: () => setReadMore(!readMore),\n              children: readMore ? \"Hide Content\" : \"Read More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true)\n        }, void 0, false)]\n      }, post.images.index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CardBody, \"I/pyavz1MJDSZ1Y0eCOljrrmOmE=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CardBody;\nexport default CardBody;\n{\n  /* {post.images.length > 0 && (\r\n        <Carousel images={post.images} id={post._id} />\r\n      )} */\n}\n{\n  /* <div>\r\n            {isLikeright ? (\r\n        <button onClick={handleUnLikeright}>\r\n        <img src={img.url} className=\"\" alt={img.url} />\r\n        </button>\r\n      ) : (\r\n        <button onClick={handleLikeright} >\r\n        <img src={img.url} className=\"\" alt={img.url} />\r\n        </button>\r\n      )}\r\n      \r\n    </div> */\n} // isLikeright ? (\n//   <>\n//     <div>\n//       {(post.likelefts.length /\n//         (post.likelefts.length + post.likerights.length)) *\n//         100}{\" \"}\n//       votes\n//     </div>\n//     <div>\n//       <button onClick={handle}>\n//         <img src={img.url} className=\"\" alt={img.url} />\n//       </button>\n//     </div>\n//     <div>{post.likelefts.length} votes</div>\n//     <div>\n//       <span>\n//         {post.content.length < 60\n//           ? post.content\n//           : readMore\n//           ? post.content + \" \"\n//           : post.content.slice(0, 60) + \"  ...\"}\n//       </span>\n//     </div>\n//   </>\n// ) :\n\nvar _c;\n\n$RefreshReg$(_c, \"CardBody\");","map":{"version":3,"sources":["E:/dasty_work_file/web/dastyco/client/src/components/home/post_card/CardBody.js"],"names":["React","useState","useEffect","moment","Link","LikeButton","LikeleftButton","LikerightButton","imageShow","videoShow","useSelector","useDispatch","likePost","likeleftPost","likerightPost","savePost","unLikePost","unLikeleftPost","unLikerightPost","unSavePost","ShareModal","Carousel","CardBody","post","isLike","setIsLike","isLikeleft","setIsLikeleft","isLikeright","setIsLikeright","saved","setSaved","loadLike","setLoadLike","loadLikeleft","setLoadLikeleft","loadLikeright","setLoadLikeright","saveLoad","setSaveLoad","isShare","setIsShare","dispatch","auth","theme","socket","state","likes","find","like","_id","user","likelefts","likeleft","likerights","likeright","handleLikeleft","handleUnLikeleft","handleLikeright","handleUnLikeright","handleSavePost","handleUnSavePost","id","readMore","setReadMore","readMores","setReadMores","console","log","filter","color","length","community","images","content","contentsub","index","img","url","slice","images2","img2"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LikeButton from \"../../LikeButton\";\r\nimport LikeleftButton from \"../../LikeleftButton\";\r\nimport LikerightButton from \"../../LikerightButton\";\r\nimport { imageShow, videoShow } from \"../../../utils/mediaShow\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  likePost,\r\n  likeleftPost,\r\n  likerightPost,\r\n  savePost,\r\n  unLikePost,\r\n  unLikeleftPost,\r\n  unLikerightPost,\r\n  unSavePost,\r\n} from \"../../../redux/actions/postAction\";\r\nimport ShareModal from \"../../ShareModal\";\r\nimport Carousel from \"../../Carousel\";\r\n\r\nconst CardBody = ({ post }) => {\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [isLikeleft, setIsLikeleft] = useState(false);\r\n  const [isLikeright, setIsLikeright] = useState(false);\r\n  const [saved, setSaved] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n  const [loadLikeleft, setLoadLikeleft] = useState(false);\r\n  const [loadLikeright, setLoadLikeright] = useState(false);\r\n  const [saveLoad, setSaveLoad] = useState(false);\r\n  const [isShare, setIsShare] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { auth, theme, socket } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (post.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    } else {\r\n      setIsLike(false);\r\n    }\r\n    if (post.likelefts.find((likeleft) => likeleft._id === auth.user._id)) {\r\n      setIsLikeleft(true);\r\n    } else {\r\n      setIsLikeleft(false);\r\n    }\r\n    if (post.likerights.find((likeright) => likeright._id === auth.user._id)) {\r\n      setIsLikeright(true);\r\n    } else {\r\n      setIsLikeright(false);\r\n    }\r\n  }, [post.likes, post.likelefts, post.likerights, auth.user._id]);\r\n  const handleLikeleft = async () => {\r\n    if (loadLikeleft) return;\r\n    setLoadLikeleft(true);\r\n    await dispatch(likeleftPost({ post, auth, socket }));\r\n    setLoadLikeleft(false);\r\n  };\r\n\r\n  const handleUnLikeleft = async () => {\r\n    if (loadLikeleft) return;\r\n    setLoadLikeleft(true);\r\n    await dispatch(unLikeleftPost({ post, auth, socket }));\r\n    setLoadLikeleft(false);\r\n  };\r\n\r\n  // const handle = async () => {\r\n  //   if (loadLikeright) return;\r\n  //   setLoadLikeright(true);\r\n  //   await dispatch(unLikerightPost({ post, auth, socket }));\r\n  //   setLoadLikeright(false);\r\n\r\n  //   if (loadLikeleft) return;\r\n  //   setLoadLikeleft(true);\r\n  //   await dispatch(likeleftPost({ post, auth, socket }));\r\n  //   setLoadLikeleft(false);\r\n  // };\r\n\r\n  const handleLikeright = async () => {\r\n    if (loadLikeright) return;\r\n    setLoadLikeright(true);\r\n    await dispatch(likerightPost({ post, auth, socket }));\r\n    setLoadLikeright(false);\r\n  };\r\n\r\n  const handleUnLikeright = async () => {\r\n    if (loadLikeright) return;\r\n    setLoadLikeright(true);\r\n    await dispatch(unLikerightPost({ post, auth, socket }));\r\n    setLoadLikeright(false);\r\n  };\r\n\r\n  const handleSavePost = async () => {\r\n    if (saveLoad) return;\r\n    setSaveLoad(true);\r\n    await dispatch(savePost({ post, auth }));\r\n    setSaveLoad(false);\r\n  };\r\n\r\n  const handleUnSavePost = async () => {\r\n    if (saveLoad) return;\r\n    setSaveLoad(true);\r\n    await dispatch(unSavePost({ post, auth }));\r\n    setSaveLoad(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (auth.user.saved.find((id) => id === post._id)) {\r\n      setSaved(true);\r\n    } else {\r\n      setSaved(false);\r\n    }\r\n  }, [post._id, auth.user.saved]);\r\n  const [readMore, setReadMore] = useState();\r\n  const [readMores, setReadMores] = useState();\r\n  console.log(post);\r\n  return (\r\n    <div className=\"card_body\">\r\n      <div\r\n        className=\"card_body-content\"\r\n        style={{\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n          color: theme ? \"white\" : \"#111\",\r\n        }}\r\n      ></div>\r\n      <div>\r\n        <div className=\"total\">\r\n          Total votes of {post.likerights.length + post.likelefts.length}\r\n        </div>\r\n        <div>\r\n          <Link\r\n            className=\"default\"\r\n            to={`/community/${post.community}`}\r\n            key={post.community}\r\n          >\r\n            Community : {post.community}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      {isLikeleft || isLikeright ? (\r\n        <div className=\"buttons-box\">\r\n          <div>\r\n            {(post.likelefts.length /\r\n              (post.likelefts.length + post.likerights.length)) *\r\n              100}{\" \"}\r\n            %\r\n          </div>\r\n          <div>\r\n            {(post.likerights.length /\r\n              (post.likelefts.length + post.likerights.length)) *\r\n              100}{\" \"}\r\n            %\r\n          </div>\r\n          <div>{post.likelefts.length} votes</div>\r\n          <div>{post.likerights.length} votes</div>\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n      {post.images.length == 0 && (\r\n        <>\r\n          <div className=\"buttons-box\">\r\n            <div>\r\n              {isLikeleft ? (\r\n                <div className=\"content-textedL\">\r\n                  <button onClick={handleUnLikeleft}>\r\n                    <a>{post.content}</a>\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"content-textedL\">\r\n                    <button onClick={handleLikeleft}>\r\n                      <a>{post.content}</a>\r\n                    </button>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div>\r\n              {isLikeright ? (\r\n                <div className=\"content-textedR\">\r\n                  <button onClick={handleUnLikeright}>\r\n                    <a>{post.contentsub}</a>\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  {\" \"}\r\n                  <div className=\"content-textedR\">\r\n                    <button onClick={handleLikeright}>\r\n                      <a>{post.content}</a>\r\n                    </button>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n      <div className=\"buttons-box\">\r\n        {(\r\n          <div key={post.images.index} className=\"file_imgs\">\r\n            {post.images.index /*deleted part*/== 0 && (\r\n              <>\r\n                {isLikeleft ? (\r\n                  <>\r\n                    <div className=\"contentbox\">\r\n                      <button onClick={handleUnLikeleft}>\r\n                        <img src={post.images.img.url} className=\"\" alt={post.images.img.url} />\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"contentsub\">\r\n                      <span>\r\n                        {post.content.length < 20\r\n                          ? post.content\r\n                          : readMores\r\n                          ? post.content + \" \"\r\n                          : post.content.slice(0, 20) + \"  ...\"}\r\n                      </span>\r\n                    </div>\r\n                    {post.contentsub.length > 20 && (\r\n                      <span\r\n                        className=\"readMore\"\r\n                        onClick={() => setReadMores(!readMores)}\r\n                      >\r\n                        {readMores ? \"Hide Contents\" : \"Read More\"}\r\n                      </span>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n\r\n                    <div className=\"contentbox\">\r\n                      <button onClick={handleLikeleft}>\r\n                        <img src={post.images2.img2.url} className=\"\" alt={post.images2.img2.url} />\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"contentsub\">\r\n                      <span>\r\n                        {post.content.length < 20\r\n                          ? post.content\r\n                          : readMores\r\n                          ? post.content + \" \"\r\n                          : post.content.slice(0, 20) + \"  ...\"}\r\n                      </span>\r\n                    </div>\r\n                    {post.contentsub.length > 20 && (\r\n                      <span\r\n                        className=\"readMore\"\r\n                        onClick={() => setReadMores(!readMores)}\r\n                      >\r\n                        {readMores ? \"Hide Contents\" : \"Read More\"}\r\n                      </span>\r\n                    )}\r\n                  </>\r\n                )}\r\n                \r\n              </>\r\n            )}\r\n\r\n            {post.images2.index == 0 && (\r\n              <>\r\n                {isLikeright ? (\r\n                  <>\r\n                    <div className=\"contentbox\">\r\n                      <button onClick={handleUnLikeright}>\r\n                        <img src={post.images.img.url} className=\"\" alt={post.images.img.url} />\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"contentsub\">\r\n                      <span>\r\n                        {post.contentsub.length < 20\r\n                          ? post.contentsub\r\n                          : readMore\r\n                          ? post.contentsub + \" \"\r\n                          : post.contentsub.slice(0, 20) + \"  ...\"}\r\n                      </span>\r\n                    </div>\r\n                    {post.content.length > 20 && (\r\n                      <span\r\n                        className=\"readMore\"\r\n                        onClick={() => setReadMore(!readMore)}\r\n                      >\r\n                        {readMore ? \"Hide Content\" : \"Read More\"}\r\n                      </span>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"contentbox\">\r\n                      <button onClick={handleLikeright}>\r\n                        <img src={post.images2.img2.url} className=\"\" alt={post.images2.img2.url} />\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"contentsub\">\r\n                      <span>\r\n                        {post.contentsub.length < 20\r\n                          ? post.contentsub\r\n                          : readMore\r\n                          ? post.contentsub + \" \"\r\n                          : post.contentsub.slice(0, 20) + \"  ...\"}\r\n                      </span>\r\n                    </div>\r\n                    {post.content.length > 20 && (\r\n                      <span\r\n                        className=\"readMore\"\r\n                        onClick={() => setReadMore(!readMore)}\r\n                      >\r\n                        {readMore ? \"Hide Content\" : \"Read More\"}\r\n                      </span>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardBody;\r\n\r\n{\r\n  /* {post.images.length > 0 && (\r\n        <Carousel images={post.images} id={post._id} />\r\n      )} */\r\n}\r\n{\r\n  /* <div>\r\n            {isLikeright ? (\r\n        <button onClick={handleUnLikeright}>\r\n        <img src={img.url} className=\"\" alt={img.url} />\r\n        </button>\r\n      ) : (\r\n        <button onClick={handleLikeright} >\r\n        <img src={img.url} className=\"\" alt={img.url} />\r\n        </button>\r\n      )}\r\n      \r\n    </div> */\r\n}\r\n\r\n// isLikeright ? (\r\n//   <>\r\n//     <div>\r\n//       {(post.likelefts.length /\r\n//         (post.likelefts.length + post.likerights.length)) *\r\n//         100}{\" \"}\r\n//       votes\r\n//     </div>\r\n//     <div>\r\n//       <button onClick={handle}>\r\n//         <img src={img.url} className=\"\" alt={img.url} />\r\n//       </button>\r\n//     </div>\r\n//     <div>{post.likelefts.length} votes</div>\r\n//     <div>\r\n//       <span>\r\n//         {post.content.length < 60\r\n//           ? post.content\r\n//           : readMore\r\n//           ? post.content + \" \"\r\n//           : post.content.slice(0, 60) + \"  ...\"}\r\n//       </span>\r\n//     </div>\r\n//   </>\r\n// ) :"]},"metadata":{},"sourceType":"module"}